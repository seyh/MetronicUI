<div class="col-lg-6 col-xs-12 col-sm-12">
    <div class="portlet light ">
        <div class="portlet-title">
            <div class="caption" style="width: 100%; border-bottom: 1px solid #eee; margin-bottom: 15px;">
                <i class="fa fa-server font-dark"></i>
                <span class="caption-subject bold uppercase font-dark" style="display:block; float:left; ">Top 10 Average CPU Usage </span>
                <span class="caption-helper" style="display:block; float:right; font-size: 12px; margin-top:3px;">Last updated time: 12/08/2017 20:00 </span>
            </div>
            <div class="portlet-body">
                <table class="table table-striped table-bordered table-hover dt-responsive" width="100" id="sample_1">
                    <thead>
                        <tr>
                            <th class="all">Device Name</th>
                            <th class="all">CPU Process Usage</th>
                            <th class="all" style="width:1px;text-align: center;">%</th>
                        </tr>
                    </thead>
                    <tbody data-bind="foreach: TopNCPU">
                        <tr>
                            <td>
                                <i class="fa fa-arrow-circle-right" style="color:#5C9BD1;margin-right:3px"></i>
                                <a href=""><span data-bind="text: ip()"></span></a>
                            </td>
                            <td style="padding-bottom:0px;padding-top:0px;">
                                <div class="dashboard-stat2 " style="background:transparent; padding-bottom:0px;">
                                    <div class="progress-info">
                                        <div class="progress">
                                            <span style="width: 50%;" class="progress-bar progress-bar-success blue-sharp">
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <div class="status-number" style="text-align:center; font-size:12px; margin-top:3px"> 50% </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<script src="../assets/global/plugins/jquery.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.2/knockout-min.js" type="text/javascript"></script>

<script type="text/javascript">
    $(document).ready(function () {
        $.ajax({
            url: "https://192.168.68.230/data/dashboard/topCPU",
            success: function (TopCPU) {
                ko.applyBindings(new TopNCPUUsageModel(TopCPU)); 
            }
        });
    });

    function SetCPUTableItem(ip, name, value) {
        this.ip = ko.observable(ip);
        this.name = ko.observable(name);
        this.percentageValue = ko.observable(value);
    }
    
    function TopNCPUUsageModel(TopCPU) {
        this.TopNCPU = ko.observableArray([]);
        if (TopCPU)
            for (var i = 0; i < TopCPU.length; i++)
                this.TopNCPU.push(new SetCPUTableItem(TopCPU[i].ip, TopCPU[i].name, TopCPU[i].value));

        console.log(this.TopNCPU()[0].ip());
    }
</script>